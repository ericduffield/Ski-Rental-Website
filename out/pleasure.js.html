<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: pleasure.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: pleasure.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
const cookieStyle = document.querySelector(".simple-cookie-consent");
const cookieModel = document.querySelector(".cookie-consent-container")
const cancelButton = document.querySelector(".cookie-consent-deny")
const acceptButton = document.querySelector(".cookie-consent-allow");
var click = 0;

const logger = require('../logger');




// FORM emailJs


/***
 * Made to send mails through a server 
 * This makes it easier since it will have template to send mails
 * 
 */
(function () {
    // https://dashboard.emailjs.com/admin/account
    emailjs.init('erahkk0th3Z3BKcn9');
})();

/**
 * Listens for the submit, and then sends a server request for it to be sent to the 
 * email address provided
 * 
 */
window.onload = function () {
    document.getElementById('contact-form').addEventListener('submit', function (event) {

        event.preventDefault();
        const name = document.getElementById('nameCon').value;
        const fromName = document.getElementById('fromNameCon').value;
        const message = document.getElementById('messageCon').value;
        if (name == "" || fromName == "" || message == ""
            || name == null || fromName == null || message == null) {
            alert("Please fill all the fields");
            return false;
        }
        else {

            // generate a five digit number for the contact_number variable
            this.contact_number.value = Math.random() * 100000 | 0;
            // these IDs from the previous steps
            emailjs.sendForm('service_mksrijc', 'template_y5kbr8g', this)
                .then(function () {
                    logger.info('SUCCESS!');
                    name.innerHTML = "";
                    fromName.innerHTML = "";
                    message.innerHTML = "";
                },
                    function (error) {
                        logger.error('FAILED...', error);
                    });
        }

    });
}


/**
 * Set the parameter to the cookie name, the value, the number of days to expire
 * 
 * @param {*} cname 
 * @param {*} cvalue 
 * @param {*} exdays 
 */
function setCookie(cname, cvalue, exdays) {
    const d = new Date();
    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
    let expires = "expires=" + d.toUTCString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}
/**
 * Delete the cookie with the name passed as parameter
 * @param {*} cname 
 */
function deleteCookie(cname) {
    const d = new Date();
    d.setTime(d.getTime() + (24 * 60 * 60 * 1000));
    let expires = "expires=" + d.toUTCString();
    document.cookie = cname + "=;" + expires + ";path=/";
}

/**
 * Check if the cookie is set or not, if not then show the cookie consent
 * @param {*} cname 
 * @returns nothing
 */
function getCookiePl(cname) {
    let name = cname + "=";
    let decodedCookie = decodeURIComponent(document.cookie);
    let ca = decodedCookie.split(';');
    for (let i = 0; i &lt; ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}
/**
 * Check if the cookie is set or not, if not then show the cookie consent
 */
function acceptCookieConsent() {
    deleteCookie('user_cookie_consent');
    setCookie('user_cookie_consent', 1, 30);
    document.getElementById("cookieNotice").style.display = "none";
}

let cookie_consent = getCookiePl("user_cookie_consent");
if (cookie_consent != "") {
    document.getElementById("cookieNotice").style.display = "none";
} else {
    document.getElementById("cookieNotice").style.display = "none";
}
/**
 * Made for getting the value of the cookie
 * 
 * @param {*} cookieName 
 */
function gettingTheValue(cookieName) {
    var re = new RegExp(cookieName + "=([^;]+)");
    var value = re.exec(document.cookie);
    if (value != null) {
        return value[1];
    }
    else {
        return null;
    }
}

/**
 * Method is meant to keep track of the item the user bought as a cookie implementation 
 * 
 */
function userTrack() {
    click++;
    let getValue = gettingTheValue('user_track');
    if (getValue != null) {
        let newValue = parseInt(getValue) + click;
        setCookie('user_track', newValue, 30);
    }
    else {
        setCookie('user_track', click, 30);
    }

}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Session.html">Session</a></li><li><a href="SystemError.html">SystemError</a></li><li><a href="UserDataError.html">UserDataError</a></li></ul><h3>Global</h3><ul><li><a href="global.html#about">about</a></li><li><a href="global.html#acceptCookieConsent">acceptCookieConsent</a></li><li><a href="global.html#addItem">addItem</a></li><li><a href="global.html#addItemType">addItemType</a></li><li><a href="global.html#addSession">addSession</a></li><li><a href="global.html#AdminAuth">AdminAuth</a></li><li><a href="global.html#authenticatedAdmin">authenticatedAdmin</a></li><li><a href="global.html#authenticateUser">authenticateUser</a></li><li><a href="global.html#checkConfirmPassword">checkConfirmPassword</a></li><li><a href="global.html#checkFirstName">checkFirstName</a></li><li><a href="global.html#checkIfUsernameIsTaken">checkIfUsernameIsTaken</a></li><li><a href="global.html#checkLastName">checkLastName</a></li><li><a href="global.html#checkPassword">checkPassword</a></li><li><a href="global.html#checkUsername">checkUsername</a></li><li><a href="global.html#createRental">createRental</a></li><li><a href="global.html#createSession">createSession</a></li><li><a href="global.html#createUser">createUser</a></li><li><a href="global.html#deleteCookie">deleteCookie</a></li><li><a href="global.html#deleteItem">deleteItem</a></li><li><a href="global.html#deleteItemType">deleteItemType</a></li><li><a href="global.html#deleteRental">deleteRental</a></li><li><a href="global.html#deleteSessionById">deleteSessionById</a></li><li><a href="global.html#deleteUser">deleteUser</a></li><li><a href="global.html#editItem">editItem</a></li><li><a href="global.html#editItemType">editItemType</a></li><li><a href="global.html#editRental">editRental</a></li><li><a href="global.html#editUser">editUser</a></li><li><a href="global.html#error">error</a></li><li><a href="global.html#getAllItems">getAllItems</a></li><li><a href="global.html#getAllItemTypes">getAllItemTypes</a></li><li><a href="global.html#getAllRentalsForUser">getAllRentalsForUser</a></li><li><a href="global.html#getAllUsers">getAllUsers</a></li><li><a href="global.html#getConnection">getConnection</a></li><li><a href="global.html#getCookiePl">getCookiePl</a></li><li><a href="global.html#getCurrentSession">getCurrentSession</a></li><li><a href="global.html#getItemById">getItemById</a></li><li><a href="global.html#getItemTypeById">getItemTypeById</a></li><li><a href="global.html#getItemTypeByName">getItemTypeByName</a></li><li><a href="global.html#getRentalById">getRentalById</a></li><li><a href="global.html#getRentalFromUserId">getRentalFromUserId</a></li><li><a href="global.html#gettingTheValue">gettingTheValue</a></li><li><a href="global.html#getUserById">getUserById</a></li><li><a href="global.html#getUserByUsername">getUserByUsername</a></li><li><a href="global.html#getUserTypeFromTypeId">getUserTypeFromTypeId</a></li><li><a href="global.html#home">home</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#itemResponse">itemResponse</a></li><li><a href="global.html#itemTypesResponse">itemTypesResponse</a></li><li><a href="global.html#listResponse">listResponse</a></li><li><a href="global.html#login">login</a></li><li><a href="global.html#loginSubmit">loginSubmit</a></li><li><a href="global.html#onlyLetters">onlyLetters</a></li><li><a href="global.html#refreshSession">refreshSession</a></li><li><a href="global.html#setCookie">setCookie</a></li><li><a href="global.html#signup">signup</a></li><li><a href="global.html#signupSubmit">signupSubmit</a></li><li><a href="global.html#usersResponse">usersResponse</a></li><li><a href="global.html#userTrack">userTrack</a></li><li><a href="global.html#verifyLogin">verifyLogin</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Thu May 19 2022 23:48:58 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
